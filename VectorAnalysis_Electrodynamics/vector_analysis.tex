\documentclass[uplatex, 12pt, dvipdfmx]{jsarticle}
\title{電磁気学で使う数学（清野和彦先生）\\ ベクトル解析（足助太郎先生）}
\author{司馬博文 J4-190549\\hirofumi-shiba48@g.ecc.u-tokyo.ac.jp}
\date{\today}
\pagestyle{headings} \setcounter{secnumdepth}{4}
\input{/Users/hirofumi.shiba48/Desktop/数理科学/preamble.tex}
\begin{document}
\maketitle
\tableofcontents
\part{曲線，ベクトル場}

\section*{既知とする事項}
Euclid空間の標準内積とそれから誘導される計量の扱い，また関数の微積分と行列積の記法は先天的に与える．

今後，Euclid空間$\mathbb{R}^n$の標準的な座標を，右上の添字で$(x^1,\cdots,x^n)$などと書く．
$D,\frac{\partial}{\partial x^1}$などを微分演算子として使う．以下の議論では，命題\ref{prop-direction-derivative}など，連鎖律の記法がLeibniz記法でも$'$でも適さない時にも驚異的な威力を発揮する．
このようにして，多変数ベクトル値函数の微分は，Jacobi行列として一般化される．

以降，元を$2$つ以上持つ$\mathbb{R}$-区間を$I,J$と表す．

\section{曲線}

\subsection{滑らかな多様体の射}

\begin{definition}[微分同相写像(diffeomorphism)]\rm{}
    $U,V$を$\mathbb{R}^n$-開集合とする．$\varphi:U\to V$が$C^r$級-微分同相写像であるとは，次の２条件を満たすことを言う．

    1.\, $\varphi$が$C^r$級である．

    2.\, $\varphi$は可逆である．（従って全単射であり逆写像$\varphi^{-1}:V\to U$が存在する）．

    3.\, $\varphi^{-1}$も$C^r$級である．

    $C^0$級-微分同相写像のことを，単に同相写像とも言う．
\end{definition}

\subsection{曲線の定義}

\begin{definition}[区間]
    $\mathbb{R}$の部分集合$S$であって，次の条件を満たすものを区間と呼び，$I,J$などと書く．
    \[ \forall x,y\in S\; x\le y\Rightarrow \{ z\in\mathbb{R}\mid x\le z\le y \}\subset S \]
\end{definition}
以降，区間$I,J$と言った時は，少なくとも$2$つの元を持った集合を指すものとする．

\begin{definition}[曲線]\label{def-curve}
    $I$を区間として，$C^r\;(r\ge 0)$級-写像$\gamma:I\to\mathbb{R}^n$のことを，\textbf{$\mathbb{R}^n$上の$C^r$級-曲線}と呼ぶ．
    特に$C^0$級-曲線を連続な曲線，$C^r\;(r>1)$級の曲線のことを可微分な曲線，または滑らかな曲線と言う．
\end{definition}
\begin{remark}[台，パラメータ]
    曲線$\gamma:I\to\mathbb{R}^n$について，$\mathrm{Supp}(\varphi):=\mathrm{Im}(\varphi)$として，曲線$\varphi$の\textbf{台・軌跡}という．台のことを曲線と呼ぶことも多い．
    この観点から，写像$\varphi$をパラメータという．

    パラメータの空間を単位閉区間$[0,1]$とした曲線を，位相幾何学の文脈では道(path)と呼ぶ．

    曲線や道とは，数直線$\mathbb{R}$かその連結な部分集合の位相の，埋め込みのことか．（少なくとも）連続な直線の射．
\end{remark}

\begin{example}\rm{}\label{examples-various-curves}
    1.\, パラメータ付を変えることによって，同じ曲線でもパラメータの空間$I$も様々である．
    $P=\{(x,y)\in\mathbb{R}^2\mid y=x^2\}$とした時，
    \begin{center}\begin{tikzcd}
        \varphi_1:\mathbb{R} \ar[r] \ar[d, phantom, "\rotatebox{90}{$\in$}"] & \mathbb{R}^2 \ar[d, phantom, "\rotatebox{90}{$\in$}"] \\
        x \ar[r, mapsto] & (x,x^2)
    \end{tikzcd}\end{center}
    も
    \begin{center}\begin{tikzcd}
        \varphi_2:(-1,1) \ar[r] \ar[d, phantom, "\rotatebox{90}{$\in$}"] & \mathbb{R}^2 \ar[d, phantom, "\rotatebox{90}{$\in$}"] \\
        t \ar[r, mapsto] & \left(\frac{t}{1-t^2},\left(\frac{t}{1-t^2}\right)^2\right)
    \end{tikzcd}\end{center}
    も$L$のパラメータづけである．

    2.\, 定置写像は$\mathrm{Supp}(\varphi)$が一点集合である曲線を定める．
\end{example}

\subsection{曲線の性質}

\begin{definition}[正則性(regularity)]
    $C^r\;(r>1)$級-曲線$\gamma:I\to\mathbb{R}^n$が正則であるとは，次を満たすことである．
    \[ \forall t\in I\; D\gamma(t)\ne 0 \]
\end{definition}

\begin{definition}[閉曲線]\rm{}

    1.\, $I$は閉区間で$I=[a,b]\;(a<b)$と表せるとする．$C^r\;(r>1)$級-曲線$\gamma:I\to\mathbb{R}^n$が$\varphi(a)=\varphi(b)$を満たす時，これを閉曲線という．

    2.\, 1.に加えて次も満たす時，特に$C^r$級の閉曲線という．
    \[ \forall s \; 0\le s\le r \;\Rightarrow\; D^s\gamma(a)=D^s\gamma(b) \]

    3.\, 1.に加えて次も満たす時，特に単純閉曲線／Jordan閉曲線という．
    \[ \gamma\; は[a,b)上単射である \]

    4.\, 単射である曲線$\psi:J\to\mathbb{R}^n$を，単純／Jordan arcと呼ぶ．
\end{definition}

\begin{definition}[長さ]
    
\end{definition}

\subsection{曲線同士の関係}
例\ref{examples-various-curves}で見た通り，台の同じ曲線に対して，何通りものパラメータ付けが想定できた．これらの間の同値関係をまずは定めたい．
一般に，区間同士の写像で端点の情報を保存するものを変数変換という．変数変換も一種の曲線であるが，始域も終域も区間であるから特別な性質が成り立つ（命題\ref{prop-regularity-of-transformations-of-parameters}など）．

\begin{definition}[変数変換，座標変換]\rm{}　
    
    1.\, $J=[a,b],I=[c,d]\;(a<b,c<d)$とする．この間の$C^r$級写像$\varphi:J\to I$であって，次を満たすものを\textbf{$C^r$級-変数変換}と呼ぶ．
    \[ \{\varphi(a),\varphi(b)\}=\{c,d\} \]

    1'.\, $J=(a,b),I=(c,d)\;(a<b,c<d)$とする．この間の$C^r$級写像$\varphi:J\to I$であって，次を満たすものを\textbf{$C^r$級-変数変換}と呼ぶ．
    \[ \{\lim_{t\to a}\varphi(t),\lim_{t\to b}\varphi(t)\}=\{c,d\} \]

    2.\, $\varphi$が可微分な変数変換であって次の条件を満たす時に，座標変換である．また$\varphi$を曲線と見た場合同様，正則であるという．
    \[ \forall t\in J\; D\varphi(t)\ne 0 \]

    3.\, $\varphi$が次の条件を満たす時に，単調であるという．
    \[ (\forall t\in J\; D\varphi(t)\ge 0)\;\lor (\forall t\in J\; D\varphi(t)\le 0) \]
\end{definition}
\begin{remark}
    曲線のパラメータの空間が開集合であった場合の記述の難解さは，端点の様子の位相情報量の違いに由来する？
\end{remark}

\subsection{曲線の向き}
正則なパラメータというものを介して，曲線自体の向きという性質を規定するという方針を執る．

\begin{definition}[速度ベクトル]
    $C^r\;(r>1)$級-曲線$\gamma:I\to\mathbb{R}^n$について，$D\gamma(t)$を$\gamma$の$\gamma (t)$に於ける速度ベクトルという．
\end{definition}

\begin{definition}[曲線に向きを定めるパラメータ]
    $C^r\;(r>1)$級-曲線$(\gamma:I\to\mathbb{R}^n, \gamma(I))$について，$\gamma$が正則であることを，\textbf{$\gamma$は$\gamma(I)$に向きを定める}という．
\end{definition}
\begin{remark}
    少し不思議な用語である．向き自体なら，$\varphi(I)$の両端の十分先での振る舞いを見比べれば決まるはずであるから，これは正則な曲線が取れることに依拠することで表現を簡単にした定義だと思える．
    それを，正則なパラメータ付けを「向きを定める」と呼んでも．

    ああ待てよ，曲線に対して，そのパラメータ付は数々存在して，そのうち「１筆書き」をして，「向きをおしえてくれるパラメータ付」という意味で「向きを定める」と呼んでいるのかも知れない．
\end{remark}

\begin{definition}[「向きを定めるパラメータ」とcompatibleな変数変換]\rm{}
    $C^r\;(r>1)$級-曲線$\gamma:I\to\mathbb{R}^n$と曲線$\zeta:J\to\mathbb{R}^n$と可微分な変数変換$\varphi:J\to I$について，$\zeta =\gamma\circ\varphi$が成り立つことに注目して，

    1.\, $\forall t\in J\; D\varphi(t)>0$ならば，$\varphi$は向きを保つという．

    2.\, $\forall t\in J\; D\varphi(t)<0$ならば，$\varphi$は向きを逆にするという．

    3.\, $\exists t\in J\; D\varphi(t)=0$（変数変換$\varphi$は正則でない）ならば，変数変換$\varphi$では曲線の向きは比較できない．
\end{definition}

\begin{proposition}[正則な変数変換]\rm{}\label{prop-regularity-of-transformations-of-parameters}
    正則な$C^r$-変数変換$\varphi:J\to I$について，次が成り立つ．

    1.\, $\varphi$は可逆で，また逆写像も正則でかつ$C^r$級である．即ち，$\varphi$は$C^r$級微分同相写像である．

    2.\, $\varphi$は単調であり，向きを保つか向きを逆にするかのいずれかである．
\end{proposition}
変数変換は，始域も終域も区間になるという点が，この補題が成り立つ所以である．
\begin{proof}
    1.のみ示す．$\varphi:J\to I$は正則な$C^r$級-写像とする．
    $\varphi$は正則だから，$\forall x\in U\; D\varphi(x)>0$か$\forall x\in U\; D\varphi(x)<0$かのいずれかであり，従って$\varphi$は全単射である．
    この逆写像を$\psi$とすると，
    \[ \varphi\circ\psi(x)=id_I(x)=x\;(x\in I) \]
    より，両辺微分すると
    \begin{eqnarray*}
        D\varphi(\psi(x))\cdot D\psi(x)&=&1 \\
        D\psi(x)&=&\frac{1}{D\varphi(\psi(x))}
    \end{eqnarray*}
    今，$\forall x\in U\; D\varphi(x)>0$か$\forall x\in U\; D\varphi(x)<0$かのいずれかであるから，$\psi:I\to J$も正則である．
    また，$\varphi$が$C^r\;(r>1)$級であることより，$D\psi$は連続である．これを繰り返すことより，$\psi$も$C^r$級であることがわかる．
\end{proof}


従って，正則な$C^r$級変数変換$\varphi$で，$\zeta=\gamma\circ\varphi$を満たすもの存在したら，必ず戻って来れるから，パラメータの空間が$C^r$級微分同相である．
２つの曲線は本質的に同じものだと思える．
\begin{corollary}
    ２つの曲線$\gamma:I\to\mathbb{R}^n,\zeta:J\to\mathbb{R}^n$について，次を満たす関係を$\sim$と定義すれば，これは同値関係である．
    \[ \exists 正則な写像\varphi:J\to I　\; \zeta =\gamma\circ\varphi \]
\end{corollary}
\begin{remark}
    解析入門 \cite{解析入門}などでは，定義\ref{def-curve}を径数付曲線と呼び，同値関係$\sim$による同値類を曲線と定義する．
\end{remark}

\begin{definition}[正則曲線同士の向き]\label{def-orientation-of-regular-curve}
    $\gamma:I\to\mathbb{R}^n, \zeta:J\to\mathbb{R}^n$を正則な曲線とする．

    1.\, 次が成り立つとき，$\gamma$と$\zeta$は同じ向きを定めるという．
    \[ \exists \varphi:J\to I\; (\forall t\in J\; D\varphi(t)>0) \land (\zeta=\gamma\circ\varphi) \]

    2.\, 次が成り立つとき，$\gamma$と$\zeta$は逆の向きを定めるという．
    \[ \exists \varphi:J\to I\; (\forall t\in J\; D\varphi(t)<0) \land (\zeta=\gamma\circ\varphi) \]
\end{definition}

正則曲線同士の向きの関係を変数変換の性質に落とし込んだ訳だが，この方法を採ったからにはwell-definednessが一番の問題になる．

\begin{proposition}[well-definedness]
    $\gamma:I\to\mathbb{R}^n, \zeta:J\to\mathbb{R}^n$を正則な曲線とする．次の２条件は同値である．
    
    1.\, $\zeta=\gamma\circ\varphi$を満たす，向きを保つ（逆にする）正則な変数変換$\varphi:J\to I$が存在する．

    2.\, $\zeta,\gamma$が同じ（逆の）向きを定める．
\end{proposition}
\begin{proof}[未完]
    変数変換$\varphi$は正則であるから，命題\ref{prop-regularity-of-transformations-of-parameters}より，向きを保つか逆にするかのいずれかである．
    従って，定義\ref{def-orientation-of-regular-curve}より，$\gamma$と$\zeta$は同じ向きを定めるか逆の向きを定めるかのいずれかである．

    また，$\gamma$と$\zeta$は同じ向きを定めるとする．即ち，正則で向きを保つ変数変換$\varphi:J\to I$が存在して，$\zeta=\gamma\circ\varphi$を満たす．
\end{proof}

\begin{definition}[正則曲線-一般の曲線間で向きを保存する変数変換（一般化）]\rm{}
    正則な曲線$\gamma:I\to\mathbb{R}^n$と一般の曲線$\zeta:J\to\mathbb{R}^n$の間に，次を満たすような$C^1$級-単調座標変換$\varphi:J\to I$が存在するとする（$\zeta =\gamma\circ\varphi$）．

    1.\, $\forall t\in J \; D\varphi (t)\ge 0$が成り立つことを，\textbf{$\zeta$と$\gamma$の向きは整合的}という．

    2.\, $\forall t\in J \; D\varphi (t)\le 0$が成り立つことを，\textbf{$\zeta$と$\gamma$の向きは整合的}という．
\end{definition}

\begin{definition}[逆向きの曲線]
    $\gamma:I=[a,b]\to\mathbb{R}^n\;(a<b)$を曲線とする．これに対し，変数変換$\varphi:I=[a,b]\ni t\mapsto a+b-t\in I$を定める．
    曲線$\overline{\gamma}:I\to\mathbb{R}^n :=\gamma\circ\varphi$を，$\gamma$の向きを逆にした曲線と呼ぶ．
    $I$が有界区間の場合，上限と下限を$b,a$とすれば同様の定義が成り立つ．そうでない場合，例えば$I=\mathbb{R}$などの場合は，$\varphi(t)=-t$とすれば良い．
\end{definition}
\begin{notation}
    $C\subset\mathbb{R}^n$を$C^1$級の正則な曲線とする．これに$C^1$級の正則なパラメータを考えることを，$C$の向きを考える，という．こうして定めた$C$と逆の向きの曲線は$-C$，特に向きを考えないことを強調する場合は$|C|$と書く．

    $C$に向きが定まるための条件は「区分的に正則である」ことまで緩められる．
\end{notation}

\begin{example}[スカラー場の変数変換]
    曲線$C=[-1,1]\subset\mathbb{R}^2$について，２つの閉区間からのパラメータ付$\gamma,\zeta:[-1,1]\to C$を，$\gamma(t)={}^t\!(t,0), \zeta(t)={}^t\!(t^3,0)$と構成する．
    すると，$\gamma$は向きを定める正則なパラメータ付であるのに対し，$D\zeta$は$t=0$が零点になるから正則でなく，向きを定めない．

    また，$\gamma$から$\zeta$への，あるいは$\zeta$から$\gamma$への変数変換$[-1,1]\to [-1,1]$で，正則なものは存在しない．
\end{example}

\section{スカラー場とベクトル場}
\begin{definition}[接空間]\rm{}
    $p\in\mathbb{R}^n$，$\varepsilon>0, I=(-\varepsilon,\varepsilon)$とし，$\gamma:I\to\mathbb{R}^n$を$\gamma(0)=p$を満たす$C^1$級-曲線とする．ベクトル値関数$\gamma$は座標を用いて${}^t\! (\gamma^1,\cdots,\gamma^n)$などと表すこととする．
    このとき，$\gamma$の導関数$D\gamma :I\to\mathbb{R}^n$の$0$に於ける値$D\gamma(0)={}^t\!\left( \frac{d\gamma}{dt}^1(0),\cdots,\frac{d\gamma}{dt}^n(0) \right)$を
    \[ \frac{d\gamma}{dt}^1(0)\frac{\partial}{\partial x^1}_p + \cdots + \frac{d\gamma}{dt}^n(0)\frac{\partial}{\partial x^n}_p \]
    で表す．
    各点$p\in\mathbb{R}^n$について，$T_p\mathbb{R}^n$で，$\frac{\partial}{\partial x^1}_p,\cdots,\frac{\partial}{\partial x^n}_p$を基底とする線型空間を表す．これを接空間(tangent space)といい，この元を$p$に於ける接ベクトル，あるいは単にベクトルと呼ぶ．
\end{definition}

\begin{lemma}
    $v\in T_p\mathbb{R}^n$とする．このとき，正数$\varepsilon>0$と$C^1$級-曲線$\gamma:(-\varepsilon,\varepsilon)\to\mathbb{R}^n$が存在して，$\gamma(0)=p$と$v=\frac{d\gamma}{dt}^1(0)\frac{\partial}{\partial x^1}_p + \cdots + \frac{d\gamma}{dt}^n(0)\frac{\partial}{\partial x^n}_p$とを満たす．
\end{lemma}
\begin{proof}
    $v\in T_p\mathbb{R}n$は$v_1\frac{\partial}{\partial x^1}_p + \cdots + v_n\frac{\partial}{\partial x^n}_p$という一意的な表示$v_1,\cdots,v_n\in\mathbb{R}$を持つ．これに対して，$D\gamma(0)={}^t\!(v_1,\cdots,v_n)$を満たす関数$\gamma:\mathbb{R}\to\mathbb{R}^n$を構成すれば良い．
    例えば$\gamma(t)=p+{}^t\!(v_1,\cdots,v_n)t$などがある．
\end{proof}

\begin{proposition}\label{prop-direction-derivative}
    $f:\mathbb{R}^n\to\mathbb{R}$を$\mathbb{R}^n$上で定義された可微分なスカラー場とする．$p\in\mathbb{R}^n, v=v_1\frac{\partial}{\partial x^1}_p + \cdots + v_n\frac{\partial}{\partial x^n}_p, \varepsilon>0$に対して，$\gamma:(-\varepsilon,\varepsilon)\to\mathbb{R}^n$を，$\gamma(0)=p, D\gamma(0)=v$を満たす可微分曲線とする．
    このとき，$f\circ\gamma:\mathbb{R}\ni t\mapsto f(t)\mathbb{R}$について，次が成り立つ．
    \[ \frac{d(f\circ\gamma)}{dt}(0) = v^1\frac{\partial f}{\partial x^1}(p) + \cdots + v^n\frac{\partial f}{\partial x^n}(p) \hspace{3mm} \mathrm{on}\hspace{0.5em} \mathbb{R} \]
\end{proposition}
\begin{proof}
    連鎖律より，
    \begin{eqnarray*}
        \frac{d (f\circ\gamma)}{dt}(0) &=& Df(\gamma (0))D\gamma(0) \\
        &=& \left( \frac{\partial f}{\partial x^1}(p),\cdots,\frac{\partial f}{\partial x^n}(p) \right)\left( \begin{array}{c}
            v^1 \\ \vdots \\ v^n
        \end{array} \right) \mathrm{on}\hspace{0.5em}\mathbb{R}^n\\
        &=& v^1 \frac{\partial f}{\partial x^1}(p)+\cdots +v^n\frac{\partial f}{\partial x^n}(p)
    \end{eqnarray*}
    を得る．
\end{proof}
スカラー場の勾配ベクトルを，基底を$\mathbb{R}$の標準基底とするくせに，横に書く理由がおぼろげながら理解された．一方速度ベクトル$v$はあくまで縦ベクトルで表示される．

\begin{definition}[方向微分]
    $f:\mathbb{R}^n\to\mathbb{R}$を可微分な関数（スカラー場）とし，$p\in\mathbb{R}^n,v=v_1\frac{\partial}{\partial x^1}_p + \cdots + v_n\frac{\partial}{\partial x^n}_p\in T_p\mathbb{R}^n$とする．この時
    \[ v(f)=v^1 \frac{\partial f}{\partial x^1}(p)+\cdots +v^n\frac{\partial f}{\partial x^n}(p) \]
    と置き，$v(f)$を\textbf{$f$の$v$による微分／方向微分}と呼び，他に$D_v(f),\nabla_v(f)$などと表す．
\end{definition}

この総じて曲線$\gamma$を介して定義するような（結局速度ベクトル$v$の情報だけを残して，曲線$\gamma$の定義の仕方に依らない），
ベクトル解析（岩堀長慶）で見た方法が生きている！$\gamma$から昇華された速度ベクトルというべき接ベクトルの大きさによって，方向微分の値は変化する．

\begin{definition}[ベクトル場]
    $U\subset\mathbb{R}^n$について，$X$が$U$上のベクトル場であるとは，$X$が$p\in U$に対して$T_p\mathbb{R}^n$の元
    \[ X(p)=X_p=v^1(p)\frac{\partial}{\partial x^1}_p + \cdots + v^n(p)\frac{\partial}{\partial x^n}_p \]
    を対応させる写像$X:U\to \bigcup_{p\in U}T_pU$であることを言う．これを
    \[ X=v^1\frac{\partial}{\partial x^1}+\cdots +v^n\frac{\partial}{\partial x^n} \]
    と表す．なお，$v^1,\cdots,v^n$は$U$上の実数値関数$v^i:\mathbb{R}^n\supset U\to\mathbb{R}^n\hspace{0.5em}(i=1,\cdots,n)$である．
    $U$が開集合であって，これらが全て$C^r$級である時，$X$は$U$上$C^r$級であると言う．
\end{definition}
全ての点に対して，その点から生える接空間内の，勝手な向きと長さを持ったベクトルを指定する写像がベクトル場．
その接空間は基底として微分演算子を持っている．$\frac{\partial}{\partial x}_p$とは，$x$成分の基底ベクトルの対応物で，標準基底$e_x$で表される世界での曲線$\gamma$の，$p$に於ける速度ベクトルの，$x$成分だったものである．
導関数から得る値の表示に当たって，元々あった基底と基本的には同じだが，表記を変えた．
便宜上の元の空間$\mathbb{R}^n$と分ける理由は分かる，時にその部分集合から飛び出すかもしれないからだ．しかしこの微分演算子的な記法の真意を私はまだ知らない．

\begin{remark}
    $U$-ベクトル場$X=v^1\frac{\partial}{\partial x^1}+\cdots +v^n\frac{\partial}{\partial x^n}$を定めると，付随する$U$上の$\mathbb{R}^n$-値関数$X'={}^t\!(v^1,\cdots,v^n)$が定まる．ここから逆に，$\mathbb{R}^n$-値関数を用いてベクトル場を表すことも多い．
    しかし２つは別物であることを象徴する例として，次の定理がある．
\end{remark}

\begin{theorem}
    \begin{tikzcd}
        \varphi:\mathbb{R}^n \ar[r] \ar[d, phantom, "\rotatebox{90}{$\in$}"] & \mathbb{R}^n \ar[d, phantom, "\rotatebox{90}{$\in$}"] \\
        y \ar[r, mapsto] & x
    \end{tikzcd}を微分同相写像とする．$X$を$\mathbb{R}^n$上のベクトル場とし，$x=\varphi(y)$を満たす２種類のパラメータ$x,y$について，$\mathbb{R}^n$上の実数値関数$v^i,w^i:\mathbb{R}^n\to\mathbb{R}\hspace{0.5em}(i=1,\cdots,n)$それぞれ次のように表されるとする．
    \begin{eqnarray*}
        X &=& v^1\frac{\partial}{\partial x^1}+\cdots +v^n\frac{\partial}{\partial x^n} \\
        &=& w^1\frac{\partial}{\partial y^1}+\cdots +w^n\frac{\partial}{\partial y^n}
    \end{eqnarray*}
    すなわち，\begin{equation}
        \left( \frac{\partial}{\partial x^1}_x\cdots \frac{\partial}{\partial x^n}_x \right) \left( \begin{array}{c}
            v^1 \\ \vdots \\ v^n
        \end{array} \right) = \left( \frac{\partial}{\partial y^1}_y\cdots \frac{\partial}{\partial y^n}_y \right) \left( \begin{array}{c}
            w^1 \\ \vdots \\ w^n
        \end{array} \right)
    \label{equation-change-of-basis}\end{equation}である．この時，次が成り立つ．
    \[ \left( \begin{array}{c}
        v^1(\varphi(y)) \\ \vdots \\ v^n(\varphi(y))
    \end{array} \right) = D\varphi(y) \left( \begin{array}{c}
        w^1(y) \\ \vdots \\ w^n(y)
    \end{array} \right) \]
\end{theorem}
\begin{proof}
    実際，
    \begin{equation} \left( \frac{\partial}{\partial y^1}_y \cdots \frac{\partial}{\partial y^n}_y \right) = \left( \frac{\partial}{\partial x^1}_x \cdots \frac{\partial}{\partial x^n}_x \right)D\varphi(y) \label{equation-change-of-basis-2}\end{equation}
    が成り立つ．何故ならば，命題\ref{prop-direction-derivative}より，各$v^m:\mathbb{R}^n\to\mathbb{R}\hspace{0.5em}(m=1,\cdots,n)$について，
    \[ \frac{\partial (v^m\circ \varphi)}{\partial y^j}(y) = \left( \frac{\partial v^m}{\partial x^1}(\varphi(y)) \cdots \frac{\partial v^m}{\partial x^n}(\varphi(y)) \right) \left( \begin{array}{c}
        \frac{\partial \varphi^1}{\partial y^j(y)} \\ \vdots \\ \frac{\partial \varphi^n}{\partial y^j(y)}
    \end{array} \right)\hspace{1em} (j=1,\cdots,n) \]
    が（$\mathbb{R}^n$上の形式的な行列表記として）成り立つことを，$T_y\mathbb{R}^n$について翻訳して，得る．なお，この結果を一本の式にまとめると，
    \[ \left(\begin{array}{lcr}
        \frac{\partial (v^1\circ\varphi)}{\partial y^1} &\cdots&  \frac{\partial (v^1\circ\varphi)}{\partial y^n} \\
        \vdots &\ddots& \vdots \\
        \frac{\partial (v^n\circ\varphi)}{\partial y^1} &\cdots& \frac{\partial (v^n\circ\varphi)}{\partial y^n}
    \end{array}\right)(y)
    =
    \left( \begin{array}{lcr}
        \frac{\partial v^1}{\partial x^1} &\cdots& \frac{\partial v^1}{\partial x^n} \\
        \vdots&\ddots&\vdots\\
        \frac{\partial v^n}{\partial x^1} &\cdots& \frac{\partial v^n}{\partial x^n}
    \end{array} \right)(\varphi(y))
    \left(\begin{array}{lcr}
        \frac{\partial \varphi^1}{\partial y^1} & \cdots & \frac{\partial \varphi^1}{\partial y^n}\\
        \vdots&\ddots&\vdots\\
        \frac{\partial \varphi^n}{\partial y^1} & \cdots & \frac{\partial \varphi^n}{\partial y^n}
    \end{array}\right)(y)    \]
    となり，これをYacobi行列としてまとめると，$v={}^t\!(v^1,\cdots,v^n)$を多変数ベクトル値関数$\mathbb{R}^n\to\mathbb{R}^n$として，以下のようになる．
    \[ D_yv(y) = D_xv(\varphi(y))\cdots D_y\varphi(y) \]
    式\ref{equation-change-of-basis-2}より，式\ref{equation-change-of-basis}は
    \begin{eqnarray*}
        \left( \frac{\partial}{\partial x^1}_x\cdots \frac{\partial}{\partial x^n}_x \right) \left( \begin{array}{c}
            v^1 \\ \vdots \\ v^n
        \end{array} \right) &=& \left( \frac{\partial}{\partial y^1}_y\cdots \frac{\partial}{\partial y^n}_y \right) \left( \begin{array}{c}
            w^1 \\ \vdots \\ w^n
        \end{array} \right) \\
        &=& \left( \frac{\partial}{\partial x^1}_x \cdots \frac{\partial}{\partial x^n}_x \right)D\varphi(y) \left( \begin{array}{c}
            w^1 \\ \vdots \\ w^n
        \end{array} \right)
    \end{eqnarray*}
    より，結論を得る．
\end{proof}
\begin{remark}
    ベクトル場の２通りの表し方とその間の変数変換を与えた時，その速度ベクトルについて式\ref{equation-change-of-basis-2}の関係が成り立つことが，ベクトル場の変数変換を，一般の多変数ベクトル値関数の変数変換と異なるもの足らしめている性質である．
    座標系との共変性と言うのだろうか．
\end{remark}

\clearpage
\begin{theorem}
    長方形領域$\Omega$に$C^1$級函数$f(x,y),g(x,y)$が定義されているとする．

    1.\, $f$を$x$方向，$g$を$y$方向の増分としたベクトル場を勾配に持つベクトル場(potential)$\varphi(x,y)$が存在するための条件は，次の通りである．
    \[ f_y(x,y)=g_x(x,y) \]

    2.\, これは，potentialが存在するための十分条件でもある．実際，これが成り立つとき，potentialは次のように表される．ただし，$(x_0,y_0)\in\Omega, C$は任意定数である．
    \[ \varphi(x,y) = C + \int^x_{x_0}f(\tilde{x},y_0)d\tilde{x}+\int^y_{y_0}g(x,\tilde{y})d\tilde{y} \]
\end{theorem}

\begin{thebibliography}{99}
    \bibitem{解析入門}
        杉浦光夫『解析入門Ⅰ』
        （東京大学出版会，1980）
\end{thebibliography}

\end{document}